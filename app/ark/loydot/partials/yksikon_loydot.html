
    <div class="modal-dialog mip-modal-dialog" mip-dialog tabindex="-1" role="dialog" id="myModalDialog{{vm.modalId}}">
        <div class="modal-content" >
            <div class="modal-header">
                <div ng-include="'pages/templates/modal/modal_header_painikkeet.html'"></div>
                <h4 class="modal-title">
                    <span i18n="common.Unit"></span> : {{vm.yksikko.properties.yksikkotunnus}} <span i18n="ark.Discoveries"></span>
                </h4>                
            </div>
            <div class="modal-body">
				<div class="row">
		            <div class="col-md-12">
		                <div class="panel panel-default table-responsive">
		                    <div class="panel-heading" role="tab" data-toggle="collapse">
		                        <h4 class="panel-title">
		                            <span i18n="common.Results"></span>
		                            : {{vm.loydotTable.total()}}
		                            <span i18n="common.Shown"></span>
		                            : {{vm.searchResults}}
		                        </h4>
		                    </div>
		                    <div class="panel-body form-horizontal" style="margin-bottom: 1em;">
		                        <div class="row">
 		                            <div class="col-md-2 col-sm-2 col-xs-2"> 
		                                <button type="button"
		                                    class="btn btn-default"
		                                    ng-click="vm.refreshTable('loytoCache', 'loydotTable')"
		                                    data-i18n-attr="{title: 'common.Refresh_search_results'}">
		                                    <span class="fa fa-refresh"></span>
		                                </button> 
		                            </div>
		                            <!-- Suodattimet -->
		                            <div class="col-md-10 col-sm-10 col-xs-10">
		                            	<div class="col-md-12">
		                            		<div class="col-md-3">
			                            		<div class="form-group">
	                                                <div class="input-group">
	                                                    <span class="input-group-addon">
	                                                        <input type="checkbox" ng-model="vm.colVisibilities.showAjoitusCol" 
	                                                            ng-change="vm.saveColVisibility('showAjoitusCol', vm.colVisibilities.showAjoitusCol)" 
	                                                            data-i18n-attr="{title: 'common.Show_field'}">
	                                                    </span>
														<select class="form-control" name="loyto_ajoitus"
															style="border-top-right-radius: 0px; border-bottom-right-radius: 0px"
														    ng-model="vm.loydotTable.filter().properties.valittu_ajoitus"
														    ng-options="ajoitus.id as ajoitus.nimi_fi for ajoitus in vm.ajoitukset">
														</select>	                                                                                               
	                                                </div>
			                             		</div> 
			                             	</div>
			                             	<div class="col-md-3">  	
			                            		<div class="form-group">
	                                                <div class="input-group">
	                                                    <span class="input-group-addon">
	                                                        <input type="checkbox" ng-model="vm.colVisibilities.showMateriaalikoodiCol" 
	                                                            ng-change="vm.saveColVisibility('showMateriaalikoodiCol', vm.colVisibilities.showMateriaalikoodiCol)" 
	                                                            data-i18n-attr="{title: 'common.Show_field'}">
	                                                    </span>
														<mip-materiaalikoodi-multi mk-model="vm.loydotTable.filter().properties"></mip-materiaalikoodi-multi>
	                                                </div>
			                             		</div>
			                             	</div>
			                             	<div class="col-md-3">
			                            		<div class="form-group">
	                                                <div class="input-group">
	                                                    <span class="input-group-addon">
	                                                        <input type="checkbox" ng-model="vm.colVisibilities.showEnsisijainenMateriaaliCol" 
	                                                            ng-change="vm.saveColVisibility('showEnsisijainenMateriaaliCol', vm.colVisibilities.showEnsisijainenMateriaaliCol)" 
	                                                            data-i18n-attr="{title: 'common.Show_field'}">
	                                                    </span>                                           
	                                                	<mip-ensisijainen-materiaali-multi ensisijaiset="vm.loydotTable.filter().properties"></mip-ensisijainen-materiaali-multi>
	                                                </div>
			                             		</div>
			                             	</div>
			                             	<div class="col-md-3">
			                            		<div class="form-group">
	                                                <div class="input-group">
	                                                    <span class="input-group-addon">
	                                                        <input type="checkbox" ng-model="vm.colVisibilities.showMuutMateriaalitCol" 
	                                                            ng-change="vm.saveColVisibility('showMuutMateriaalitCol', vm.colVisibilities.showMuutMateriaalitCol)" 
	                                                            data-i18n-attr="{title: 'common.Show_field'}">
	                                                    </span>                                           
	                                                    <mip-materiaali-multi muut-materiaalit="vm.loydotTable.filter().properties" haku="true"></mip-materiaali-multi>
	                                                </div>
			                             		</div>
			                             	</div>
			                            </div>
			                            <!-- Rivi 2 -->
			                            <div class="col-md-12">
											<div class="col-md-3">
												<div class="form-group">
	                                                <div class="input-group">
	                                                    <span class="input-group-addon">
	                                                        <input type="checkbox" ng-model="vm.colVisibilities.showLuettelointinumeroCol" 
	                                                            ng-change="vm.saveColVisibility('showLuettelointinumeroCol', vm.colVisibilities.showLuettelointinumeroCol)" 
	                                                            data-i18n-attr="{title: 'common.Show_field'}">
	                                                    </span>                                           
	                                                    <input type="text" class="form-control"
	                                                        style="border-top-right-radius: 0px; border-bottom-right-radius: 0px"
	                                                        name="luettelointinumero"
	                                                        ng-model="vm.loydotTable.filter().properties.luettelointinumero"
	                                                        data-i18n-attr="{placeholder: 'ark.Listing_number'}"
	                                                        spellcheck="false"
	                                                        autocomplete="off">
	                                                </div>
			                             		</div>
			                             	</div>
			                            	<div class="col-md-3">
			                            		<div class="form-group">
	                                                <div class="input-group">
	                                                    <span class="input-group-addon">
	                                                        <input type="checkbox" ng-model="vm.colVisibilities.showTyyppiCol" 
	                                                            ng-change="vm.saveColVisibility('showTyyppiCol', vm.colVisibilities.showTyyppiCol)" 
	                                                            data-i18n-attr="{title: 'common.Show_field'}">
	                                                    </span>                                           
	                                                    <mip-loytotyyppi-multi tyypit="vm.loydotTable.filter().properties"></mip-loytotyyppi-multi>
	                                                </div>
			                             		</div>
			                             	</div>
			                            	<div class="col-md-3">
			                            		<div class="form-group">
	                                                <div class="input-group">
	                                                    <span class="input-group-addon">
	                                                        <input type="checkbox" ng-model="vm.colVisibilities.showTyypinTarkenneCol" 
	                                                            ng-change="vm.saveColVisibility('showTyypinTarkenneCol', vm.colVisibilities.showTyypinTarkenneCol)" 
	                                                            data-i18n-attr="{title: 'common.Show_field'}">
	                                                    </span>                                           
	                                                    <mip-loytotyyppi-tarkenne-multi loytotyyppi="vm.loydotTable.filter().properties" haku="true"></mip-loytotyyppi-tarkenne-multi>
	                                                </div>
			                             		</div>
			                             	</div>
			                             	<div class="col-md-3">
												<div class="form-group">
													<div class="input-group">
														<span class="input-group-addon"> 
														<input type="checkbox"
															ng-model="vm.colVisibilities.showKuvausCol"
															ng-change="vm.saveColVisibility('showKuvausCol', vm.colVisibilities.showKuvausCol)"
															data-i18n-attr="{title: 'common.Show_field'}">
														</span>
														<input type="text" class="form-control" style="border-top-right-radius: 0px; border-bottom-right-radius: 0px"
															name="kuvaus" ng-model="vm.loydotTable.filter().properties.kuvaus"
															data-i18n-attr="{placeholder: 'common.Description'}" spellcheck="false" autocomplete="off">
													</div>
												</div>			                             	
			                             	</div>
			                             </div>			                             				                             			                             			                             	
		                            </div>                           
		                        </div>                
							</div>
							<!-- Taulukko -->
							<table ng-table="vm.loydotTable" 
                        		template-pagination="pages/templates/table-pagination.html"
								class="table table-striped table-bordered" show-filter="false">
								<tr ng-repeat="loyto in $data" style="cursor: pointer" ng-click="vm.selectLoyto(loyto)">
		                            <td data-title="vm.getColumnName('Listing_number', 'ark')" sortable="'properties.luettelointinumero'" ng-if="vm.colVisibilities.showLuettelointinumeroCol">
		                                {{loyto.properties.luettelointinumero}}
		                            </td>                            														
		                            <td data-title="vm.getColumnName('Material_code', 'ark')" ng-if="vm.colVisibilities.showMateriaalikoodiCol">
		                                {{loyto.properties.materiaalikoodi | namei18n}}
		                            </td>
		                            <td data-title="vm.getColumnName('Timing', 'ark')" sortable="'properties.alkuvuosi'" ng-if="vm.colVisibilities.showAjoitusCol">
		                                {{loyto.properties.alkuvuosi}} {{loyto.properties.alkuvuosi_ajanlasku}} <font ng-if="loyto.properties.paatosvuosi"> -</font>
		                                {{loyto.properties.paatosvuosi}} {{loyto.properties.paatosvuosi_ajanlasku}} 
		                            </td>
		                            <td data-title="vm.getColumnName('Primary_material', 'ark')" ng-if="vm.colVisibilities.showEnsisijainenMateriaaliCol">
		                                {{loyto.properties.ensisijainen_materiaali | namei18n}}
		                            </td>
		                            <td data-title="vm.getColumnName('Other_material', 'ark')" ng-if="vm.colVisibilities.showMuutMateriaalitCol">
						               	<span ng-repeat="materiaali in loyto.properties.materiaalit">
						               		{{materiaali | namei18n}} <font ng-show="!$last">,</font>
						               	</span>	
		                            </td>
		                            <td data-title="vm.getColumnName('Type', 'common')" ng-if="vm.colVisibilities.showTyyppiCol">
		                                {{loyto.properties.loytotyyppi | namei18n}}
		                            </td>
		                            <td data-title="vm.getColumnName('Artifact_name', 'ark')" ng-if="vm.colVisibilities.showTyypinTarkenneCol">
						               	<span ng-repeat="tarkenne in loyto.properties.loytotyyppi_tarkenteet">
						               		{{tarkenne | namei18n}} <font ng-show="!$last">,</font>
						               	</span>
		                            </td>
		                            <td data-title="vm.getColumnName('Description', 'common')" ng-if="vm.colVisibilities.showKuvausCol">
		                                {{loyto.properties.kuvaus}}
		                            </td>                            		
								</tr>
							</table>                                    
		                </div>
		            </div>
				</div>		            
            </div>
            <div class="modal-footer">                
                <div class="dropup">
                    <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">                      
                        <span i18n="common.Actions"></span> <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu dropdown-menu-right">
                        <li>
                        	<a href="" ng-click="vm.close()" i18n="common.Close"></a>
                        </li>
                    </ul>                                       
                </div>
            </div>
        </div>
    </div>