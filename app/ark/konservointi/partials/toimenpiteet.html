<div class="panel panel-default panel-collapsible">
    <div class="panel-heading" data-toggle="collapse" data-target="#toimenpiteetPanel{{vm.modalId}}">
        <h4 class="panel-title">
            <span i18n="ark.Operations"></span>
            <span class="pull-right glyphicon clickable_space collapsed-indicator"></span>
        </h4>
    </div>
    <div id="toimenpiteetPanel{{vm.modalId}}" class="panel-body panel-collapse collapse in">
	    <div class="panel-body">
	        <div class="form-group">
				<table ng-table="vm.toimenpiteetTable" template-pagination="pages/templates/table-pagination.html" class="table table-striped table-bordered" show-filter="false">
					<tr ng-repeat="toimenpide in $data | orderBy: 'alkaa'"  style="cursor: pointer">
						<td data-title="vm.getColumnName('Operation', 'ark')" ng-click="vm.avaaToimenpide(toimenpide)">
							<a href="">{{toimenpide.properties.toimenpide.nimi}}</a>
						</td>
						<td data-title="vm.getColumnName('Method', 'ark')">{{toimenpide.properties.menetelma.nimi}}</td>
						<td data-title="vm.getColumnName('Treatment', 'ark')">{{toimenpide.properties.kasittely.kasittelytunnus}}</td>
						<td data-title="vm.getColumnName('Begin', 'ark')" sortable="'properties.alkaa'">{{toimenpide.properties.alkaa | pvm:'dd.MM.yyyy'}}</td>
						<td data-title="vm.getColumnName('End', 'ark')">
							<span ng-if="toimenpide.properties.naytteet" ng-repeat="nayte in toimenpide.properties.naytteet">
								<span ng-if="vm.nayte.properties.id == nayte.ark_nayte_id">{{nayte.paattyy | pvm:'dd.MM.yyyy'}}</span>
							</span>
							<span ng-if="toimenpide.properties.loydot" ng-repeat="loyto in toimenpide.properties.loydot">
								<span ng-if="vm.loyto.properties.id == loyto.ark_loyto_id">{{loyto.paattyy | pvm:'dd.MM.yyyy'}}</span>
							</span>							
						</td>
					</tr>
				</table>	        
	        </div>             
	    </div>
    </div>
</div>