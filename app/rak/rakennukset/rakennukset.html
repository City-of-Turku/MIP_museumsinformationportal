<div class="panel">
    <div class="panel-body">
        <div ng-include="'pages/tabs.html'"></div>
        <div ng-include="'pages/subtabs.html'"></div>
        <div class="row">
            <div class="col-md-12">
                <div class="panel panel-default panel-collapsible table-responsive">
                    <div class="panel-heading" role="tab" data-toggle="collapse"
                        data-target="#tiedotPanel">
                        <h4 class="panel-title">
                            <span i18n="common.Results"></span>
                            : {{rakennuksetTable.total()}}
                            <span i18n="common.Shown"></span>
                            : {{searchResults}}
                            <span class="pull-right glyphicon clickable_space collapsed-indicator"></span>
                        </h4>
                    </div>
                    <div class="panel-body form-horizontal panel-collapse collapse in"
                        id="tiedotPanel" style="margin-bottom: 1em;">
                        <div class="row">
                            <div class="col-md-2 col-sm-2 col-xs-2">
                                
                                    <button type="button"
                                        class="btn btn-default"
                                        ng-click="clearSearchFilter()"
                                        data-i18n-attr="{title: 'common.Clear_filter'}">
                                        <span class="fa fa-ban"></span>
                                    </button>
                                    <button type="button"
                                    class="btn btn-default"
                                    ng-class="(rakennuksetTable.filter().properties.aluerajaus || rakennuksetTable.filter().properties.polygonrajaus) ? 'btn-warning' : 'btn-default'"
                                    ng-click="removeAluerajaus()"
                                    ng-disabled="!rakennuksetTable.filter().properties.aluerajaus && !rakennuksetTable.filter().properties.polygonrajaus"
                                    style="width:37.16px;"
                                    data-i18n-attr="{title: 'common.Remove_geometry_filter'}">
                                    <span class="fa fa-pencil-square-o"></span>
                                </button> 
                                <button type="button"
                                    class="btn btn-default"
                                    ng-click="refreshTable()"
                                    data-i18n-attr="{title: 'common.Refresh_search_results'}">
                                    <span class="fa fa-refresh"></span>
                                </button> 
								<button type="button" class="btn btn-default" ng-click="lisaaKoriin()"
									data-i18n-attr="{title: 'common.Add_to_cart'}">
									<i class="fa fa-cart-plus"></i>
								</button>                                
                            </div>
                            <div class="col-md-10 col-sm-10 col-xs-10">                              
                                <div class="form-group col-md-3">
                                    <div class="col-md-12">                                        
                                        <div class="input-group">
                                            <span class="input-group-addon">
                                                <input type="checkbox" ng-model="colVisibilities.showKuntaCol" ng-change="saveColVisibility('showKuntaCol', colVisibilities.showKuntaCol)"> 
                                            </span>
                                            <mip-kuntavalitsin props="rakennuksetTable.filter().properties"></mip-kuntavalitsin>
                                        </div>                                                                                                                                 
                                    </div>
                                </div>
                                <div class="form-group col-md-3">
                                    <div class="col-md-12">                                        
                                        <div class="input-group">
                                            <span class="input-group-addon">
                                                <input type="checkbox" ng-model="colVisibilities.showKylaCol" ng-change="saveColVisibility('showKylaCol', colVisibilities.showKylaCol)" data-i18n-attr="{title: 'common.Show_field'}">
                                            </span>                                                
                                            <mip-kylavalitsin props="rakennuksetTable.filter().properties"></mip-kylavalitsin>  
                                        </div>                                                                                                                                 
                                    </div>
                                </div>  
                                <div class="form-group col-md-3">
                                	<div class="col-md-12">
                                        <div class="row">
                                            <div class="col-xs-7 col-sm-7 col-md-8 col-lg-9 mip-input-group"
                                                style="padding-right: 0px">
                                                <div class="input-group">
                                                    <span class="input-group-addon">
                                                        <input type="checkbox" ng-model="colVisibilities.showKiinteistotunnusCol" ng-change="saveColVisibility('showKiinteistotunnusCol', colVisibilities.showKiinteistotunnusCol)" data-i18n-attr="{title: 'common.Show_field'}">
                                                    </span>
                                                <input type="text" class="form-control"
                                                    style="border-top-right-radius: 0px; border-bottom-right-radius: 0px"
                                                    name="kiinteistotunnus"
                                                    ng-model="rakennuksetTable.filter().properties.kiinteistotunnus"
                                                    data-i18n-attr="{placeholder: 'common.Property_identifier'}"
                                                    spellcheck="false"
                                                    autocomplete="off">
                                                    </div>
                                            </div>
                                            <div class="col-xs-5 col-sm-5 col-md-4 col-lg-3"
                                                style="padding-left: 0px;">
                                                <input type="text" class="form-control"
                                                    style="border-top-left-radius: 0px; border-bottom-left-radius: 0px"
                                                    name="palstanumero"
                                                    ng-model="rakennuksetTable.filter().properties.palstanumero"
                                                    data-i18n-attr="{placeholder: 'common.Number_abbr'}"
                                                    spellcheck="false"
                                                    autocomplete="off">
                                            </div>
                                        </div>  
                                	</div>
                                </div>
                                <div class="form-group col-md-3">
                                    <div class="col-md-12">
                                        <div class="input-group">
                                            <span class="input-group-addon">
                                                <input type="checkbox" ng-model="colVisibilities.showKiinteistoNimiCol" ng-change="saveColVisibility('showKiinteistoNimiCol', colVisibilities.showKiinteistoNimiCol)" data-i18n-attr="{title: 'common.Show_field'}">
                                            </span> 
                                            <input type="text" class="form-control"
                                                name="kiinteisto_nimi"
                                                ng-model="rakennuksetTable.filter().properties.kiinteisto_nimi"
                                                data-i18n-attr="{placeholder: 'common.Estate'}"
                                                spellcheck="false"
                                                autocomplete="off">
                                            </div>
                                    </div>
                                </div>
                                <div class="form-group col-md-3">
                                    <div class="col-md-12">
                                        <div class="input-group">
                                            <span class="input-group-addon">
                                                <input type="checkbox" ng-model="colVisibilities.showOsoiteCol" ng-change="saveColVisibility('showOsoiteCol', colVisibilities.showOsoiteCol)" data-i18n-attr="{title: 'common.Show_field'}">
                                            </span>   
                                            <input type="text" class="form-control"
                                                name="rakennus_osoite"
                                                ng-model="rakennuksetTable.filter().properties.rakennus_osoite"
                                                data-i18n-attr="{placeholder: 'common.Address'}"
                                                spellcheck="false"
                                                autocomplete="off">
                                        </div>
                                    </div>
                                </div>
                                 <div class="form-group col-md-3">
                                   <div class="col-md-12">   
                                        <div class="input-group">
                                            <span class="input-group-addon">
                                                <input type="checkbox" ng-model="colVisibilities.showArvotusCol" ng-change="saveColVisibility('showArvotusCol', colVisibilities.showArvotusCol)" data-i18n-attr="{title: 'common.Show_field'}">
                                            </span>                                           
                                        	<ui-select ng-model="rakennuksetTable.filter().properties.arvotus"
    											name="arvotus" theme="bootstrap" multiple="true"
    											ng-required="false"
    											on-remove="addItemBackToList($item, arvotusOptions)"
                                                spellcheck="false">
    										<ui-select-match data-i18n-attr="{placeholder: 'common.Valuation'}">{{$item | namei18n}}</ui-select-match>
    										<ui-select-choices
    											repeat="arvotus.id as arvotus in arvotusOptions | filter: {'nimi_fi': $select.search}">
    										<div ng-bind-html="arvotus | namei18n | highlight: $select.search">
												</div>
    										</ui-select-choices> </ui-select>
                                        </div>
                                    </div>
                                </div>   
                                <div class="form-group col-md-3">
                                    <div class="col-md-12">
                                        <div class="input-group">
                                            <span class="input-group-addon">
                                                <input type="checkbox" ng-model="colVisibilities.showRakennustyyppiCol" ng-change="saveColVisibility('showRakennustyyppiCol', colVisibilities.showRakennustyyppiCol)" data-i18n-attr="{title: 'common.Show_field'}">
                                            </span>  
                                            <ui-select ng-model="rakennuksetTable.filter().properties.rakennustyyppi"
                                                name="rakennustyyppi" theme="bootstrap" multiple="true"
                                                ng-required="false"
                                                on-remove="addItemBackToList($item, rakennustyyppiOptions)"
                                                spellcheck="false">
                                            <ui-select-match data-i18n-attr="{placeholder: 'common.Building_type'}">{{$item | namei18n}}</ui-select-match>
                                            <ui-select-choices
                                                repeat="rakennustyyppi.id as rakennustyyppi in rakennustyyppiOptions | filter: {'nimi_fi': $select.search}">
                                            <div ng-bind-html="rakennustyyppi | namei18n | highlight: $select.search">
                                                </div>
                                            </ui-select-choices> </ui-select>                                            
                                        </div>
                                    </div>
                                </div>                                 
                                <div class="form-group col-md-3">
                                    <div class="col-md-12">
                                        <div class="input-group">
                                            <span class="input-group-addon">
                                                <input type="checkbox" ng-model="colVisibilities.showSuunnittelijaCol" ng-change="saveColVisibility('showSuunnittelijaCol', colVisibilities.showSuunnittelijaCol)" data-i18n-attr="{title: 'common.Show_field'}">
                                            </span>  
                                            <ui-select 
                                                ng-model="rakennuksetTable.filter().properties.suunnittelija"
                                                name="suunnittelija"
                                                spellcheck="false">
                                                <ui-select-match 
                                                    data-i18n-attr="{placeholder: 'common.Architect'}"
                                                    allow-clear="true">{{$select.selected.etunimi}} {{$select.selected.sukunimi}}
                                                </ui-select-match>
                                                <ui-select-choices        
                                                    repeat="suunnittelija.id as suunnittelija in suunnittelijat track by $index "
                                                    refresh="getSuunnittelijat($select.search)"
                                                    refresh-delay="250">
                                                    <div>                                                                
                                                        <span
                                                            ng-bind-html="suunnittelija.etunimi | highlight: $select.search">
                                                        </span>
                                                        <span
                                                            ng-bind-html="suunnittelija.sukunimi | highlight: $select.search">
                                                        </span>
                                                    </div>
                                                </ui-select-choices> 
                                            </ui-select>                                                
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group col-md-3">
                                    <div class="col-md-12">
                                        <div class="input-group">
                                            <span class="input-group-addon">
                                                <input type="checkbox" ng-model="colVisibilities.showPaikkakuntaCol" ng-change="saveColVisibility('showPaikkakuntaCol', colVisibilities.showPaikkakuntaCol)" data-i18n-attr="{title: 'common.Show_field'}">
                                            </span>    
                                            <input type="text" class="form-control" name="paikkakunta"
                                                ng-model="rakennuksetTable.filter().properties.paikkakunta"
                                                data-i18n-attr="{placeholder: 'common.District'}"
                                                spellcheck="false"
                                                autocomplete="off">
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group col-md-3">
                                    <div class="col-md-12">
                                        <div class="input-group">
                                            <span class="input-group-addon">
                                                <input type="checkbox" ng-model="colVisibilities.showRakennustunnusCol" ng-change="saveColVisibility('showRakennustunnusCol', colVisibilities.showRakennustunnusCol)" data-i18n-attr="{title: 'common.Show_field'}">
                                            </span> 
                                            <input type="text" class="form-control"
                                                name="rakennustunnus"
                                                ng-model="rakennuksetTable.filter().properties.rakennustunnus"
                                                data-i18n-attr="{placeholder: 'common.Building_identifier'}"
                                                spellcheck="false"
                                                autocomplete="off">
                                            </div>
                                    </div>
                                </div>                                                                          
                                <div class="form-group col-md-3">
                                    <div class="col-md-12">         
                                        <div class="input-group">
                                            <span class="input-group-addon">
                                                <input type="checkbox" ng-model="colVisibilities.showAddedByCol" ng-change="saveColVisibility('showAddedByCol', colVisibilities.showAddedByCol)" data-i18n-attr="{title: 'common.Show_field'}">
                                            </span>                                       
                                            <ui-select 
                                                ng-model="rakennuksetTable.filter().properties.luoja"
                                                name="luoja"
                                                spellcheck="false">
                                                <ui-select-match 
                                                    data-i18n-attr="{placeholder: 'common.Created_by'}"
                                                    allow-clear="true">{{$select.selected.etunimi}} {{$select.selected.sukunimi}}</ui-select-match>
                                                <ui-select-choices        
                                                    repeat="kayttaja.id as kayttaja in kayttajat track by $index "
                                                    refresh="getKayttajat($select.search)"
                                                    refresh-delay="250">
                                                    <div>                                                                
                                                        <span
                                                            ng-bind-html="kayttaja.etunimi | highlight: $select.search">
                                                        </span>
                                                        <span
                                                            ng-bind-html="kayttaja.sukunimi | highlight: $select.search">
                                                        </span>
                                                    </div>
                                                </ui-select-choices> 
                                            </ui-select>
                                        </div>
                                    </div>                                       
                                </div>
                            </div>                          
                        </div>
                    </div>
                    <div class="panel-heading collapsed" role="tab" data-toggle="collapse"
                        data-target="#lisatiedotPanel">
                        <h4 class="panel-title">
                            <span i18n="common.Detailed_search"></span>
                            <span class="pull-right glyphicon clickable_space collapsed-indicator"></span>
                        </h4>
                    </div>
                    <div class="panel-body form-horizontal panel-collapse collapse"
                        id="lisatiedotPanel" style="margin-bottom: 1em;">
                        <div class="row">                            
                            <div class="col-md-12 col-sm-12 col-xs-12">                                                              
                                <div class="form-group col-md-2">
                                    <div class="col-md-12">
                                        <div class="input-group">
                                            <span class="input-group-addon">
                                                <input type="checkbox" ng-model="colVisibilities.showRakennustyypinKuvausCol" ng-change="saveColVisibility('showRakennustyypinKuvausCol', colVisibilities.showRakennustyypinKuvausCol)" data-i18n-attr="{title: 'common.Show_field'}">
                                            </span>   
                                            <input type="text" class="form-control"
                                                name="rakennustyypin_kuvaus"
                                                ng-model="rakennuksetTable.filter().properties.rakennustyypin_kuvaus"
                                                data-i18n-attr="{placeholder: 'common.Building_type_description'}"
                                                spellcheck="false"
                                                autocomplete="off">
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group col-md-2">                                    
                                    <div class="col-md-12">
                                        <div class="input-group">
                                            <span class="input-group-addon">
                                                <input type="checkbox" ng-model="colVisibilities.showRakennusvuosiCol" ng-change="saveColVisibility('showRakennusvuosiCol', colVisibilities.showRakennusvuosiCol)" data-i18n-attr="{title: 'common.Show_field'}">
                                            </span> 
                                            <span data-i18n-attr="{title: 'common.Construction_year_start'}">
                                                <input type="number" class="form-control" name="rakennusvuosi_alku"
                                                    ng-model="rakennuksetTable.filter().properties.rakennusvuosi_alku"
                                                    data-i18n-attr="{placeholder: 'common.Construction_year_start'}"
                                                    spellcheck="false"
                                                    autocomplete="off">
											</span>                                                                                                    
                                            <span class="input-group-addon">-</span>
                                            <span data-i18n-attr="{title: 'common.Construction_year_end'}">
                                                <input type="number" class="form-control" name="rakennusvuosi_lopetus"
                                                    ng-model="rakennuksetTable.filter().properties.rakennusvuosi_lopetus"
                                                    data-i18n-attr="{placeholder: 'common.Construction_year_end'}"
                                                    spellcheck="false"
                                                    autocomplete="off">
                                            </span>                                                 
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group col-md-2">
                                    <div class="col-md-12">
                                        <div class="input-group">
                                            <span class="input-group-addon">
                                                <input type="checkbox" ng-model="colVisibilities.showRakennusvuosiCol" ng-change="saveColVisibility('showRakennusvuosiCol', colVisibilities.showRakennusvuosiCol)" data-i18n-attr="{title: 'common.Show_field'}">
                                            </span> 
                                            <input type="text" class="form-control"
                                                name="rakennusvuosi_kuvaus"
                                                ng-model="rakennuksetTable.filter().properties.rakennusvuosi_kuvaus"
                                                data-i18n-attr="{placeholder: 'common.Construction_year_description'}"
                                                spellcheck="false"
                                                autocomplete="off">
                                            </div>
                                    </div>
                                </div>   
                                <div class="form-group col-md-2">                                    
                                    <div class="col-md-12">
                                        <div class="input-group">
                                            <span class="input-group-addon">
                                                <input type="checkbox" ng-model="colVisibilities.showMuutosvuosiCol" ng-change="saveColVisibility('showMuutosvuosiCol', colVisibilities.showMuutosvuosiCol)" data-i18n-attr="{title: 'common.Show_field'}">
                                            </span>
                                            <span data-i18n-attr="{title: 'common.Alteration_year_start'}"> 
                                                <input type="number" class="form-control" name="muutosvuosi_alku"
                                                    ng-model="rakennuksetTable.filter().properties.muutosvuosi_alku"
                                                    data-i18n-attr="{placeholder: 'common.Alteration_year_start'}"
                                                    spellcheck="false"
                                                    autocomplete="off">
                                            </span>                                                
                                            <span class="input-group-addon">-</span>
                                            <span data-i18n-attr="{title: 'common.Alteration_year_end'}">
                                                <input type="number" class="form-control" name="muutosvuosi_lopetus"
                                                    ng-model="rakennuksetTable.filter().properties.muutosvuosi_lopetus"
                                                    data-i18n-attr="{placeholder: 'common.Alteration_year_end'}"
                                                    spellcheck="false"
                                                    autocomplete="off">
                                            </span>                                                  
                                        </div>
                                    </div>
                                </div>                                
                                
                                <div class="form-group col-md-2">
                                    <div class="col-md-12">
                                        <div class="input-group">
                                            <span class="input-group-addon">
                                                <input type="checkbox" ng-model="colVisibilities.showMuutosvuosiCol" ng-change="saveColVisibility('showMuutosvuosiCol', colVisibilities.showMuutosvuosiCol)" data-i18n-attr="{title: 'common.Show_field'}">
                                            </span> 
                                            <input type="text" class="form-control"
                                                name="muutosvuosi_kuvaus"
                                                ng-model="rakennuksetTable.filter().properties.muutosvuosi_kuvaus"
                                                data-i18n-attr="{placeholder: 'common.Alteration_year_description'}"
                                                spellcheck="false"
                                                autocomplete="off">
                                            </div>
                                    </div>
                                </div>  
                                <div class="form-group col-md-2">
                                    <div class="col-md-12">
                                        <div class="input-group">
                                            <span class="input-group-addon">
                                                <input type="checkbox" ng-model="colVisibilities.showAlkuperainenKayttoCol" ng-change="saveColVisibility('showAlkuperainenKayttoCol', colVisibilities.showAlkuperainenKayttoCol)" data-i18n-attr="{title: 'common.Show_field'}">
                                            </span>  
                                            <ui-select ng-model="rakennuksetTable.filter().properties.alkuperainen_kaytto"
                                                name="alkuperainen_kaytto" theme="bootstrap" multiple="true"
                                                ng-required="false"
                                                on-remove="addItemBackToList($item, alkuperainen_kayttoOptions)"
                                                spellcheck="false">
                                            <ui-select-match data-i18n-attr="{placeholder: 'common.Original_usage'}">{{$item | namei18n}}</ui-select-match>
                                            <ui-select-choices
                                                repeat="alkuperainen_kaytto.id as alkuperainen_kaytto in alkuperainen_kayttoOptions | filter: {'nimi_fi': $select.search}">
                                            <div ng-bind-html="alkuperainen_kaytto | namei18n | highlight: $select.search">
                                                </div>
                                            </ui-select-choices> </ui-select>                                            
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group col-md-2">
                                    <div class="col-md-12">
                                        <div class="input-group">
                                            <span class="input-group-addon">
                                                <input type="checkbox" ng-model="colVisibilities.showNykykayttoCol" ng-change="saveColVisibility('showNykykayttoCol', colVisibilities.showNykykayttoCol)" data-i18n-attr="{title: 'common.Show_field'}">
                                            </span>  
                                            <ui-select ng-model="rakennuksetTable.filter().properties.nykykaytto"
                                                name="nykykaytto" theme="bootstrap" multiple="true"
                                                ng-required="false"
                                                on-remove="addItemBackToList($item, nykykayttoOptions)"
                                                spellcheck="false">
                                            <ui-select-match data-i18n-attr="{placeholder: 'common.Common_usage'}">{{$item | namei18n}}</ui-select-match>
                                            <ui-select-choices
                                                repeat="nykykaytto.id as nykykaytto in nykykayttoOptions | filter: {'nimi_fi': $select.search}">
                                            <div ng-bind-html="nykykaytto | namei18n | highlight: $select.search">
                                                </div>
                                            </ui-select-choices> </ui-select>                                            
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group col-md-2">
                                    <div class="col-md-12">
                                        <div class="input-group">
                                            <span class="input-group-addon">
                                                <input type="checkbox" ng-model="colVisibilities.showPerustusCol" ng-change="saveColVisibility('showPerustusCol', colVisibilities.showPerustusCol)" data-i18n-attr="{title: 'common.Show_field'}">
                                            </span>  
                                            <ui-select ng-model="rakennuksetTable.filter().properties.perustus"
                                                name="perustus" theme="bootstrap" multiple="true"
                                                ng-required="false"
                                                on-remove="addItemBackToList($item, perustusOptions)"
                                                spellcheck="false">
                                            <ui-select-match data-i18n-attr="{placeholder: 'common.Foundation'}">{{$item | namei18n}}</ui-select-match>
                                            <ui-select-choices
                                                repeat="perustus.id as perustus in perustusOptions | filter: {'nimi_fi': $select.search}">
                                            <div ng-bind-html="perustus | namei18n | highlight: $select.search">
                                                </div>
                                            </ui-select-choices> </ui-select>                                            
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group col-md-2">
                                    <div class="col-md-12">
                                        <div class="input-group">
                                            <span class="input-group-addon">
                                                <input type="checkbox" ng-model="colVisibilities.showRunkoCol" ng-change="saveColVisibility('showRunkoCol', colVisibilities.showRunkoCol)" data-i18n-attr="{title: 'common.Show_field'}">
                                            </span>  
                                            <ui-select ng-model="rakennuksetTable.filter().properties.runko"
                                                name="runko" theme="bootstrap" multiple="true"
                                                ng-required="false"
                                                on-remove="addItemBackToList($item, runkoOptions)"
                                                spellcheck="false">
                                            <ui-select-match data-i18n-attr="{placeholder: 'common.Frame'}">{{$item | namei18n}}</ui-select-match>
                                            <ui-select-choices
                                                repeat="runko.id as runko in runkoOptions | filter: {'nimi_fi': $select.search}">
                                            <div ng-bind-html="runko | namei18n | highlight: $select.search">
                                                </div>
                                            </ui-select-choices> </ui-select>                                            
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group col-md-2">
                                    <div class="col-md-12">
                                        <div class="input-group">
                                            <span class="input-group-addon">
                                                <input type="checkbox" ng-model="colVisibilities.showVuorausCol" ng-change="saveColVisibility('showVuorausCol', colVisibilities.showVuorausCol)" data-i18n-attr="{title: 'common.Show_field'}">
                                            </span>  
                                            <ui-select ng-model="rakennuksetTable.filter().properties.vuoraus"
                                                name="vuoraus" theme="bootstrap" multiple="true"
                                                ng-required="false"
                                                on-remove="addItemBackToList($item, vuorausOptions)"
                                                spellcheck="false">
                                            <ui-select-match data-i18n-attr="{placeholder: 'common.Lining'}">{{$item | namei18n}}</ui-select-match>
                                            <ui-select-choices
                                                repeat="vuoraus.id as vuoraus in vuorausOptions | filter: {'nimi_fi': $select.search}">
                                            <div ng-bind-html="vuoraus | namei18n | highlight: $select.search">
                                                </div>
                                            </ui-select-choices> </ui-select>                                            
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group col-md-2">
                                    <div class="col-md-12">
                                        <div class="input-group">
                                            <span class="input-group-addon">
                                                <input type="checkbox" ng-model="colVisibilities.showKattoCol" ng-change="saveColVisibility('showKattoCol', colVisibilities.showKattoCol)" data-i18n-attr="{title: 'common.Show_field'}">
                                            </span>  
                                            <ui-select ng-model="rakennuksetTable.filter().properties.katto"
                                                name="katto" theme="bootstrap" multiple="true"
                                                ng-required="false"
                                                on-remove="addItemBackToList($item, kattoOptions)"
                                                spellcheck="false">
                                            <ui-select-match data-i18n-attr="{placeholder: 'common.Ceiling'}">{{$item | namei18n}}</ui-select-match>
                                            <ui-select-choices
                                                repeat="katto.id as katto in kattoOptions | filter: {'nimi_fi': $select.search}">
                                            <div ng-bind-html="katto | namei18n | highlight: $select.search">
                                                </div>
                                            </ui-select-choices> </ui-select>                                            
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group col-md-2">
                                    <div class="col-md-12">
                                        <div class="input-group">
                                            <span class="input-group-addon">
                                                <input type="checkbox" ng-model="colVisibilities.showKateCol" ng-change="saveColVisibility('showKateCol', colVisibilities.showKateCol)" data-i18n-attr="{title: 'common.Show_field'}">
                                            </span>  
                                            <ui-select ng-model="rakennuksetTable.filter().properties.kate"
                                                name="kate" theme="bootstrap" multiple="true"
                                                ng-required="false"
                                                on-remove="addItemBackToList($item, kateOptions)"
                                                spellcheck="false">
                                            <ui-select-match data-i18n-attr="{placeholder: 'common.Cover'}">{{$item | namei18n}}</ui-select-match>
                                            <ui-select-choices
                                                repeat="kate.id as kate in kateOptions | filter: {'nimi_fi': $select.search}">
                                            <div ng-bind-html="kate | namei18n | highlight: $select.search">
                                                </div>
                                            </ui-select-choices> </ui-select>                                            
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group col-md-2">
                                    <div class="col-md-12">
                                        <div class="input-group">
                                            <span class="input-group-addon">
                                                <input type="checkbox" ng-model="colVisibilities.showKuntoCol" ng-change="saveColVisibility('showKuntoCol', colVisibilities.showKuntoCol)" data-i18n-attr="{title: 'common.Show_field'}">
                                            </span>  
                                            <ui-select ng-model="rakennuksetTable.filter().properties.kunto"
                                                name="kunto" theme="bootstrap" multiple="true"
                                                ng-required="false"
                                                on-remove="addItemBackToList($item, kuntoOptions)"
                                                spellcheck="false">
                                            <ui-select-match data-i18n-attr="{placeholder: 'common.Condition'}">{{$item | namei18n}}</ui-select-match>
                                            <ui-select-choices
                                                repeat="kunto.id as kunto in kuntoOptions | filter: {'nimi_fi': $select.search}">
                                            <div ng-bind-html="kunto | namei18n | highlight: $select.search">
                                                </div>
                                            </ui-select-choices> </ui-select>                                            
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group col-md-2">
                                    <div class="col-md-12">
                                        <div class="input-group">
                                            <span class="input-group-addon">
                                                <input type="checkbox" ng-model="colVisibilities.showNykytyyliCol" ng-change="saveColVisibility('showNykytyyliCol', colVisibilities.showNykytyyliCol)" data-i18n-attr="{title: 'common.Show_field'}">
                                            </span>  
                                            <ui-select ng-model="rakennuksetTable.filter().properties.nykytyyli"
                                                name="nykytyyli" theme="bootstrap" multiple="true"
                                                ng-required="false"
                                                on-remove="addItemBackToList($item, nykytyyliOptions)"
                                                spellcheck="false">
                                            <ui-select-match data-i18n-attr="{placeholder: 'common.Contemporary_style'}">{{$item | namei18n}}</ui-select-match>
                                            <ui-select-choices
                                                repeat="nykytyyli.id as nykytyyli in nykytyyliOptions | filter: {'nimi_fi': $select.search}">
                                            <div ng-bind-html="nykytyyli | namei18n | highlight: $select.search">
                                                </div>
                                            </ui-select-choices> </ui-select>                                            
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group col-md-2">
                                    <div class="col-md-12">
                                        <div class="input-group">
                                            <span class="input-group-addon">
                                                <input type="checkbox" ng-model="colVisibilities.showPurettuCol" ng-change="saveColVisibility('showPurettuCol', colVisibilities.showPurettuCol)" data-i18n-attr="{title: 'common.Show_field'}">
                                            </span>  
                                            <ui-select ng-model="rakennuksetTable.filter().properties.purettu"
                                                name="katto" theme="bootstrap" multiple="true"
                                                ng-required="false"
                                                on-remove="addItemBackToList($item, purettuOptions)"
                                                spellcheck="false">
                                            <ui-select-match data-i18n-attr="{placeholder: 'common.Demolished'}">{{$item.label}}</ui-select-match>
                                            <ui-select-choices
                                                repeat="purettu.value as purettu in purettuOptions | filter: {'label': $select.search}">
                                            <div ng-bind-html="purettu.label | highlight: $select.search">
                                                </div>
                                            </ui-select-choices> </ui-select>                                            
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group col-md-2">
                                    <div class="col-md-12">
                                        <div class="input-group">
                                            <span class="input-group-addon">
                                                <input type="checkbox" ng-model="colVisibilities.showKulttuurihistorialliset_arvotCol" ng-change="saveColVisibility('showKulttuurihistorialliset_arvotCol', colVisibilities.showKulttuurihistorialliset_arvotCol)" data-i18n-attr="{title: 'common.Show_field'}">
                                            </span>  
                                            <ui-select ng-model="rakennuksetTable.filter().properties.kulttuurihistorialliset_arvot"
                                                name="kulttuurihistorialliset_arvot" theme="bootstrap" multiple="true"
                                                ng-required="false"
                                                on-remove="addItemBackToList($item, kulttuurihistorialliset_arvotOptions)"
                                                spellcheck="false">
                                            <ui-select-match data-i18n-attr="{placeholder: 'common.Culturohistorical_values'}">{{$item | namei18n}}</ui-select-match>
                                            <ui-select-choices
                                                repeat="kulttuurihistorialliset_arvot.id as kulttuurihistorialliset_arvot in kulttuurihistorialliset_arvotOptions | filter: {'nimi_fi': $select.search}">
                                            <div ng-bind-html="kulttuurihistorialliset_arvot | namei18n | highlight: $select.search">
                                                </div>
                                            </ui-select-choices> </ui-select>                                            
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group col-md-2">
                                    <div class="col-md-12">
                                        <div class="input-group">
                                            <span class="input-group-addon">
                                                <input type="checkbox" ng-model="colVisibilities.showKuvauksetCol" ng-change="saveColVisibility('showKuvauksetCol', colVisibilities.showKuvauksetCol)" data-i18n-attr="{title: 'common.Show_field'}">
                                            </span> 
                                            <input type="text" class="form-control"
                                                name="kuvaukset"
                                                ng-model="rakennuksetTable.filter().properties.kuvaukset"
                                                data-i18n-attr="{placeholder: 'common.Descriptions'}"
                                                spellcheck="false"
                                                autocomplete="off">
                                        </div>
                                    </div>
                                </div>   
                                                            
                            </div>                          
                        </div>
                    </div>
                    <table ng-table="rakennuksetTable" class="table table-striped table-bordered"
                        template-pagination="pages/templates/table-pagination.html"
                        show-filter="false">
                        <tr ng-repeat="rakennus in $data" style="cursor: pointer"
                            ng-click="selectRakennus(rakennus)">
                            <td data-title="getColumnName('County')" sortable="'properties.kunta'" ng-if="colVisibilities.showKuntaCol"
                                filter="{ 'properties.kunta': 'text' }">
                                {{rakennus.properties.kiinteisto.kyla.kunta | kuntaKylaNamei18n}}
                                ({{rakennus.properties.kiinteisto.kyla.kunta.kuntanumero}})</td>
                            <td data-title="getColumnName('Village')" sortable="'properties.kyla'"  ng-if="colVisibilities.showKylaCol"
                                filter="{ 'properties.kyla': 'text' }">
                                {{rakennus.properties.kiinteisto.kyla.nimi}}
                                ({{rakennus.properties.kiinteisto.kyla.kylanumero}})</td>
                            <td data-title="getColumnName('District')"  ng-if="colVisibilities.showPaikkakuntaCol"
                                sortable="'properties.paikkakunta'"
                                filter="{ 'properties.paikkakunta': 'text' }">{{rakennus.properties.kiinteisto.paikkakunta}}</td>
                            <td data-title="getColumnName('Property_identifier')"  ng-if="colVisibilities.showKiinteistotunnusCol"
                                sortable="'properties.kiinteistotunnus'"
                                filter="{ 'properties.kiinteistotunnus': 'text' }">
                                {{rakennus.properties.kiinteisto.kiinteistotunnus}}<span ng-if="rakennus.properties.kiinteisto.palstanumero"> ({{rakennus.properties.kiinteisto.palstanumero}})</span></td>
                            <td data-title="getColumnName('Estate_name')"  ng-if="colVisibilities.showKiinteistoNimiCol"
                                sortable="'properties.kiinteisto_nimi'"
                                filter="{ 'properties.kiinteisto_nimi': 'text' }">
                                {{rakennus.properties.kiinteisto.nimi}} </td>
                            <td data-title="getColumnName('Address')" sortable="'properties.osoite'"  ng-if="colVisibilities.showOsoiteCol"
                                filter="{ 'properties.rakennus_osoite': 'text' }">
                                <div ng-repeat="osoite in rakennus.properties.osoitteet"
                                    ng-show="osoite.katunimi.length > 0">{{osoite.katunimi}}
                                    {{osoite.katunumero}}</div>
                                <div style="padding-left:0.5em;">{{rakennus.properties.kiinteisto.osoite}}</div>
                            </td>
                            <td data-title="getColumnName('Valuation')"  ng-if="colVisibilities.showArvotusCol"
                                sortable="'properties.arvotustyyppi_nimi'">
                                {{rakennus.properties.arvotustyyppi_nimi}}</td>                            
                            <td data-title="getColumnName('Building_type')"  ng-if="colVisibilities.showRakennustyyppiCol"
                                sortable="'properties.rakennustyyppi'"
                                filter="{ 'properties.rakennustyyppi': 'text' }">
                                <div
                                    ng-repeat="rakennustyyppi in rakennus.properties.rakennustyypit">
                                    {{rakennustyyppi | namei18n}} <span ng-show="!rakennus.geometry.coordinates && $first" class="fa fa-exclamation pull-right" style="color:#A94442;" aria-hidden="true" data-i18n-attr="{title: 'common.No_location'}"></span></div>
                            </td>
                            <td data-title="getColumnName('Architect')"  ng-if="colVisibilities.showSuunnittelijaCol"
                                sortable="'properties.kaikki_suunnittelijat'"
                                filter="{ 'properties.kaikki_suunnittelijat': 'text' }">
                                <span ng-bind-html="rakennus.properties.kaikki_suunnittelijat"></span>
                            </td>
                            
                            <td data-title="getColumnName('Building_identifier')" ng-if="colVisibilities.showRakennustunnusCol">
                                <span ng-bind-html="rakennus.properties.rakennustunnus"></span>
                            </td>
                            <td data-title="getColumnName('Added_by')" ng-if="colVisibilities.showAddedByCol"
                            filter="{ 'properties.luoja': 'number' }">                                                                
                                {{rakennus.properties.luoja.etunimi}} {{rakennus.properties.luoja.sukunimi}}                                                             
                            </td>  
                            <td data-title="getColumnName('Building_type_description')" ng-if="colVisibilities.showRakennustyypinKuvausCol">                                                                
                                {{rakennus.properties.rakennustyyppi_kuvaus}}                                                             
                            </td> 
                            <td data-title="getColumnName('Construction_year')" ng-if="colVisibilities.showRakennusvuosiCol">                                                                
                                {{rakennus.properties.rakennusvuosi_alku}} <span ng-if="rakennus.properties.rakennusvuosi_alku || rakennus.properties.rakennusvuosi_loppu"> - </span> {{rakennus.properties.rakennusvuosi_loppu}} {{rakennus.properties.rakennusvuosi_selite}}                                                            
                            </td>  
                            <td data-title="getColumnName('Alteration_years')" ng-if="colVisibilities.showMuutosvuosiCol">      
                                <div ng-repeat="mv in rakennus.properties.muutosvuodet">            
                                    {{mv.alkuvuosi}} <span ng-if="mv.alkuvuosi || mv.loppuvuosi"> - </span> {{mv.loppuvuosi}} {{mv.selite}}
                                </div>                                                                                                        
                            </td>  
                            <td data-title="getColumnName('Original_usage')" ng-if="colVisibilities.showAlkuperainenKayttoCol">      
                                <div ng-repeat="ak in rakennus.properties.alkuperaisetkaytot">            
                                    {{ak | namei18n}}
                                </div>                                                                                                        
                            </td>  
                            <td data-title="getColumnName('Common_usage')" ng-if="colVisibilities.showNykykayttoCol">      
                                <div ng-repeat="nk in rakennus.properties.nykykaytot">            
                                    {{nk | namei18n}}
                                </div>                                                                                                        
                            </td>  
                            <td data-title="getColumnName('Foundation')" ng-if="colVisibilities.showPerustusCol">      
                                <div ng-repeat="perustus in rakennus.properties.perustustyypit">            
                                    {{perustus | namei18n}}
                                </div>                                                                                                        
                            </td>  
                            <td data-title="getColumnName('Frame')" ng-if="colVisibilities.showRunkoCol">      
                                <div ng-repeat="runko in rakennus.properties.runkotyypit">            
                                    {{runko | namei18n}}
                                </div>                                                                                                        
                            </td>   
                            <td data-title="getColumnName('Lining')" ng-if="colVisibilities.showVuorausCol">      
                                <div ng-repeat="vuoraus in rakennus.properties.vuoraustyypit">            
                                    {{vuoraus | namei18n}}
                                </div>                                                                                                        
                            </td>  
                            <td data-title="getColumnName('Ceiling')" ng-if="colVisibilities.showKattoCol">      
                                <div ng-repeat="katto in rakennus.properties.kattotyypit">            
                                    {{katto | namei18n}}
                                </div>                                                                                                        
                            </td> 
                            <td data-title="getColumnName('Cover')" ng-if="colVisibilities.showKateCol">      
                                <div ng-repeat="kate in rakennus.properties.katetyypit">            
                                    {{kate | namei18n}}
                                </div>                                                                                                        
                            </td>  
                            <td data-title="getColumnName('Condition')" ng-if="colVisibilities.showKuntoCol">      
                                {{rakennus.properties.kuntotyyppi | namei18n}}                                                                                                   
                            </td>       
                            <td data-title="getColumnName('Contemporary_style')" ng-if="colVisibilities.showNykytyyliCol">      
                                {{rakennus.properties.nykyinentyyli | namei18n}}                                                                                                   
                            </td> 
                            <td data-title="getColumnName('Demolished')" ng-if="colVisibilities.showPurettuCol">      
                                {{rakennus.properties.purettu | trueFalseToText}}                                                                                                   
                            </td>  
                             <td data-title="getColumnName('Culturohistorical_values')" ng-if="colVisibilities.showKulttuurihistorialliset_arvotCol">      
                                <div ng-repeat="kha in rakennus.properties.kulttuurihistoriallisetarvot">            
                                    {{kha | namei18n}}
                                </div>                                                                                                        
                            </td>   
                            <td data-title="getColumnName('Descriptions')" ng-if="colVisibilities.showKuvauksetCol">      
                                <div ng-if="rakennus.properties.rakennushistoria"><span i18n="common.Structure_history"></span>: {{rakennus.properties.rakennushistoria}}</div>
                                <div ng-if="rakennus.properties.erityispiirteet"><span i18n="common.Special_characteristics"></span>: {{rakennus.properties.erityispiirteet}}</div>
                                <div ng-if="rakennus.properties.sisatilakuvaus"><span i18n="common.Interior_description"></span>: {{rakennus.properties.sisatilakuvaus}}</div>
                                <div ng-if="rakennus.properties.muut_tiedot"><span i18n="common.Other_information"></span>: {{rakennus.properties.muut_tiedot}}</div>                                                                                                   
                            </td>        
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>